# 需求文档

## 1. 项目概述

本项目旨在为业主委员会提供一套数字化管理工具，通过微信小程序和后台管理系统，提升日常管理效率、规范合同履行、加强资金监管，并为业主提供便捷的参与和监督渠道。

## 2. 用户端 - 微信小程序

### 2.1. 核心功能

- **用户认证:**
    - 手机号 + 验证码登录
    - 实名认证（集成OCR识别身份证、人脸识别）
- **信息公开:**
    - 查看业主委员会日常运营制度、会议制度、财务制度等。
    - 查看业主大会行事历、会议公告、答业主问等。
- **意见征询与投票:**
    - 参与各项议题的意见征询。
    - 参与业主大会的线上投票（一票一编号，二维码扫描）。
    - 查看本人投票记录。
- **合同查阅:**
    - 查看物业服务合同及附件。
- **资金查询:**
    - 查看经营性收益收支明细。
    - 查看专项维修资金收支及使用情况。
- **投诉与咨询:**
    - 提交业主投诉（内容不公开）。
    - 提交法律咨询（内容不公开）。
- **公证服务:**
    - 主动申请文件公证（收费，集成微信支付）。

### 2.2. 功能模块详解

#### 2.2.1. 日常管理
- **制度查阅:** 列表展示所有公开制度文件，可在线阅读。
- **业主大会:**
    - **会议日历:** 展示业主大会行事历。
    - **会议公告:** 查看会议时间、地点、议题等公告。
    - **在线投票:**
        - 通过扫描二维码或点击链接进入投票页面。
        - 系统自动校验业主身份和投票资格。
        - 支持同意/反对/弃权等选项。
        - 投票后可查看自己的投票结果。
    - **会议决议:** 查看最终的会议决议公告。
- **意见征询:**
    - 列表展示正在进行的意见征询。
    - 可在线填写意见和建议。
- **投诉:**
    - 提供投诉表单，可填写文字、上传图片。
    - 提交后，投诉内容仅业主本人和后台管理员可见。

#### 2.2.2. 合同履行
- **合同查看:** 在线查阅物业服务合同的详细条款及附件。

#### 2.2.3. 资金管理
- **收支公示:**
    - 以列表或图表形式展示经营性收益和专项维修资金的收支明细。
    - 用户可按月份或季度筛选查看。

#### 2.2.4. 法律咨询
- **咨询提交:**
    - 提供表单，用户可选择咨询类型（民事、行政、刑事、涉外）并填写问题。
    - 提交后，内容仅本人和后台管理员可见。

#### 2.2.5. 公证服务
- **申请公证:**
    - 用户可选择需要公证的文件。
    - 在线支付公证费用。
    - 查看公证办理进度。

### 2.3. 非功能性需求
- **性能:** 页面加载速度快，操作响应及时。
- **安全:** 保护用户隐私，特别是身份信息、投诉、咨询等敏感数据。
- **易用性:** 界面简洁，操作流程清晰。

## 3. 后台管理系统

### 3.1. 核心功能

- **仪表盘:** 关键数据统计，如业主总数、投票参与率、待处理投诉数等。
- **日常管理:**
    - **制度管理:** 新增、修改、删除、发布各类制度文件。
    - **档案印章:** 管理档案制度，登记印章使用，记录投诉台账。
    - **业主委员会会议:** 发布会议通知，录入会议记录，生成会议决议。
    - **意见征询:** 发起意见征询，管理征询表单，自动统计结果。
    - **业主大会:**
        - 管理业主花名册（不公开）。
        - 发布会议公告。
        - 生成带二维码和编号的表决票。
        - 支持线上、线下、智能语音三种投票方式的结果录入和汇总。
        - 自动统计表决结果，生成会议决议。
- **合同履行:**
    - **合同管理:** 上传和管理物业服务合同及附件。
    - **履约监督:** 管理履约告知清单，发送整改通知，记录整改结果。
    - **合同考核:** 管理考核办法，发起满意度调查，自动统计考核结果。
- **承接查验:**
    - 管理进驻、履行、退出查验表。
    - 自动生成承接查验报告。
- **资金管理:**
    - **经营性收支:** 审批收款申请，自动生成收支明细表和审计报告。
    - **专项维修资金:** 审批资金使用申请，自动生成使用明细表和审计报告。
- **法律咨询:**
    - 查看用户提交的法律咨询，并进行回复或指派给专业人士。
- **指导监督:**
    - 查看除业主花名册外的所有公开内容。
- **公正存证:**
    - 所有关键操作和数据（如投票、资金变动）自动同步存证，确保不可篡改。
- **用户管理:**
    - 管理小程序用户信息，处理实名认证审核。

### 3.2. 功能模块详解

#### 3.2.1. 日常管理模块
- **制度管理:** 提供富文本编辑器用于编辑和发布制度文件。
- **档案印章管理:**
    - 提供表单用于登记印章使用情况。
    - 提供投诉台账记录功能。
- **业主委员会会议:**
    - 会议通知支持模板，可快速创建。
    - 会议记录支持在线编辑和上传附件。
- **意见征询:**
    - 可视化表单设计器，用于创建征询表。
    - 实时查看结果统计图表。
- **业主大会会议:**
    - 业主花名册支持导入、导出。
    - 投票结果统计支持多种方式（线上自动获取，线下手动录入，语音接口导入）。
    - 会议决议支持根据模板和投票结果自动生成，并可手动修改。

#### 3.2.2. 合同履行模块
- **合同管理:**
    - 支持多版本合同管理。
    - 为物业服务企业提供单独的上传端口。
- **合同考核:**
    - 支持配置考核指标和权重。
    - 考核结果自动计算并生成报告。
    - 支持通过特定AI功能送达考核统计。

#### 3.2.3. 承接查验模块
- 查验表支持模板化，可根据模板快速生成。
- 查验报告支持导出为PDF。

#### 3.2.4. 资金管理模块
- **审批流程:** 可自定义经营性收支和维修资金的审批流程。
- **审计报告:** 一键生成标准格式的审计报告。

#### 3.2.5. 法律咨询模块
- 咨询列表按状态（待处理、已回复）分类。
- 管理员可查看咨询人联系方式（微信或电话）。

#### 3.2.6. 公正存证模块
- 与第三方公证存证平台API对接（参考 `https://gzc-doc.readthedocs.io/en/latest/introduction.html`）。
- 所有关键操作记录日志，并同步上链存证。

### 3.3. 非功能性需求
- **安全性:** 严格的权限控制，确保不同角色只能访问其授权的模块和数据。
- **可扩展性:** 系统设计应考虑未来功能的增加。
- **易用性:** 后台界面布局合理，操作便捷。

## 4. 技术栈需求 (小程序端)
- **手机号验证**
- **智能语音外呼** (用于投票通知或结果送达)
- **OCR** (用于身份证识别)
- **实名认证** (集成第三方服务)
- **微信支付** (用于公证服务付费)
