# 物业管理系统功能清单 V2.0 (基于若依框架)

## 文档信息
- **产品名称**: 智慧物业管理系统
- **版本**: V2.0 (若依框架版)
- **框架**: 若依 RuoYi-Vue 3.9.0
- **创建日期**: 2024年
- **更新说明**: 基于若依框架规范重新设计的功能清单

## 系统架构

### 技术架构
```
前端架构
├── ruoyi-ui (管理端 - Vue.js + Element UI)
├── ruoyi-app (用户端 - uni-app 微信小程序)
└── 公共组件库

后端架构
├── ruoyi-admin (Web服务入口)
├── ruoyi-system (核心业务模块)
├── ruoyi-property (物业管理业务模块 - 新增)
├── ruoyi-framework (框架核心)
├── ruoyi-common (公共工具)
└── ruoyi-generator (代码生成)
```

### 数据库设计规范
- 遵循若依命名规范：表名使用下划线分隔，字段名驼峰命名
- 继承若依BaseEntity：包含createBy、createTime、updateBy、updateTime等字段
- 使用若依字典管理：状态、类型等枚举值统一管理
- 支持若依数据权限：按部门、角色控制数据访问权限

---

## 1. 后台管理系统 (ruoyi-ui)

### 1.1 系统管理模块 (基于若依系统管理扩展)

#### 1.1.1 用户管理
**继承若依用户管理，扩展业主特有字段**
- **功能**: 业主用户管理
- **路由**: `/system/property-user`
- **权限标识**: `system:propertyUser:list`
- **扩展字段**:
  - 房产信息 (building, unit, room)
  - 实名认证状态 (authStatus)
  - 业主类型 (ownerType: 1-业主,2-租户,3-其他)
  - 产权比例 (ownershipRatio)

#### 1.1.2 角色管理
**基于若依角色管理，新增物业角色**
- **预设角色**:
  - 业委会主任 (property:director)
  - 业委会成员 (property:member) 
  - 财务管理员 (property:finance)
  - 物业管理员 (property:manager)
  - 普通业主 (property:owner)

#### 1.1.3 菜单管理
**扩展若依菜单管理，添加物业功能菜单**
- 物业管理主菜单
- 各子模块菜单配置
- 权限控制配置

#### 1.1.4 部门管理
**基于小区组织架构**
- 业主委员会
- 监事会
- 各专业委员会
- 物业服务企业

### 1.2 物业管理模块 (ruoyi-property 新增模块)

#### 1.2.1 制度管理
**表设计**: `property_regulation`
```sql
CREATE TABLE property_regulation (
    regulation_id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '制度ID',
    regulation_name VARCHAR(200) NOT NULL COMMENT '制度名称',
    regulation_type VARCHAR(50) NOT NULL COMMENT '制度类型',
    regulation_content LONGTEXT COMMENT '制度内容',
    file_path VARCHAR(500) COMMENT '文件路径',
    effective_date DATE COMMENT '生效日期',
    version VARCHAR(20) COMMENT '版本号',
    status CHAR(1) DEFAULT '1' COMMENT '状态(0-停用,1-正常)',
    create_by VARCHAR(64) COMMENT '创建者',
    create_time DATETIME COMMENT '创建时间',
    update_by VARCHAR(64) COMMENT '更新者',
    update_time DATETIME COMMENT '更新时间',
    remark VARCHAR(500) COMMENT '备注'
) COMMENT = '物业制度管理表';
```

**页面功能**:
- 制度列表 (`/property/regulation/index`)
- 新增制度 (`/property/regulation/add`)
- 编辑制度 (`/property/regulation/edit/:id`)
- 制度详情 (`/property/regulation/detail/:id`)

**API接口**:
- `GET /property/regulation/list` - 获取制度列表
- `POST /property/regulation` - 新增制度
- `PUT /property/regulation` - 修改制度
- `DELETE /property/regulation/{ids}` - 删除制度

#### 1.2.2 会议管理
**表设计**: `property_meeting`
```sql
CREATE TABLE property_meeting (
    meeting_id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '会议ID',
    meeting_title VARCHAR(200) NOT NULL COMMENT '会议标题',
    meeting_type VARCHAR(50) NOT NULL COMMENT '会议类型',
    meeting_content LONGTEXT COMMENT '会议内容',
    meeting_time DATETIME NOT NULL COMMENT '会议时间',
    meeting_location VARCHAR(200) COMMENT '会议地点',
    meeting_status CHAR(1) DEFAULT '0' COMMENT '会议状态(0-筹备中,1-进行中,2-已结束)',
    vote_start_time DATETIME COMMENT '投票开始时间',
    vote_end_time DATETIME COMMENT '投票结束时间',
    total_voters INT DEFAULT 0 COMMENT '应参与人数',
    actual_voters INT DEFAULT 0 COMMENT '实际参与人数',
    create_by VARCHAR(64) COMMENT '创建者',
    create_time DATETIME COMMENT '创建时间',
    update_by VARCHAR(64) COMMENT '更新者',
    update_time DATETIME COMMENT '更新时间'
) COMMENT = '会议管理表';
```

**关联表**: `property_meeting_topic` (会议议题表)
```sql
CREATE TABLE property_meeting_topic (
    topic_id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '议题ID',
    meeting_id BIGINT NOT NULL COMMENT '会议ID',
    topic_title VARCHAR(200) NOT NULL COMMENT '议题标题',
    topic_content LONGTEXT COMMENT '议题内容',
    topic_order INT DEFAULT 0 COMMENT '议题顺序',
    vote_type CHAR(1) DEFAULT '1' COMMENT '投票类型(1-单选,2-多选)',
    agree_count INT DEFAULT 0 COMMENT '同意票数',
    oppose_count INT DEFAULT 0 COMMENT '反对票数',
    abstain_count INT DEFAULT 0 COMMENT '弃权票数',
    FOREIGN KEY (meeting_id) REFERENCES property_meeting(meeting_id)
) COMMENT = '会议议题表';
```

**页面功能**:
- 会议列表 (`/property/meeting/index`)
- 会议详情 (`/property/meeting/detail/:id`)
- 投票管理 (`/property/meeting/vote/:id`)
- 结果统计 (`/property/meeting/statistics/:id`)

#### 1.2.3 资金管理
**表设计**: `property_fund_flow`
```sql
CREATE TABLE property_fund_flow (
    flow_id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '流水ID',
    flow_no VARCHAR(50) UNIQUE NOT NULL COMMENT '流水编号',
    flow_type CHAR(1) NOT NULL COMMENT '流水类型(1-经营性收入,2-经营性支出,3-维修资金收入,4-维修资金支出)',
    amount DECIMAL(12,2) NOT NULL COMMENT '金额',
    title VARCHAR(200) NOT NULL COMMENT '标题',
    description TEXT COMMENT '描述',
    handler VARCHAR(50) COMMENT '经手人',
    approval_status CHAR(1) DEFAULT '0' COMMENT '审批状态(0-待审批,1-已审批,2-已拒绝)',
    approver_id BIGINT COMMENT '审批人ID',
    approval_time DATETIME COMMENT '审批时间',
    approval_note TEXT COMMENT '审批备注',
    flow_date DATE NOT NULL COMMENT '流水日期',
    create_by VARCHAR(64) COMMENT '创建者',
    create_time DATETIME COMMENT '创建时间',
    update_by VARCHAR(64) COMMENT '更新者',
    update_time DATETIME COMMENT '更新时间'
) COMMENT = '资金流水表';
```

**页面功能**:
- 资金概览 (`/property/fund/dashboard`)
- 收支明细 (`/property/fund/flow`)
- 审批管理 (`/property/fund/approval`)
- 财务报表 (`/property/fund/report`)

#### 1.2.4 投诉管理
**表设计**: `property_complaint`
```sql
CREATE TABLE property_complaint (
    complaint_id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '投诉ID',
    complaint_no VARCHAR(50) UNIQUE NOT NULL COMMENT '投诉编号',
    user_id BIGINT NOT NULL COMMENT '投诉人ID',
    complaint_type CHAR(1) NOT NULL COMMENT '投诉类型(1-物业服务,2-设施设备,3-环境卫生,4-安全管理,5-收费争议,6-其他)',
    complaint_title VARCHAR(200) NOT NULL COMMENT '投诉标题',
    complaint_content TEXT NOT NULL COMMENT '投诉内容',
    contact_phone VARCHAR(11) COMMENT '联系电话',
    urgency CHAR(1) DEFAULT '2' COMMENT '紧急程度(1-紧急,2-普通,3-一般)',
    expected_time CHAR(1) COMMENT '期望处理时间(1-立即,2-3天内,3-1周内,4-1月内)',
    status CHAR(1) DEFAULT '0' COMMENT '状态(0-待处理,1-处理中,2-已完成,3-已关闭)',
    handler_id BIGINT COMMENT '处理人ID',
    handle_time DATETIME COMMENT '处理时间',
    complete_time DATETIME COMMENT '完成时间',
    satisfaction CHAR(1) COMMENT '满意度(1-5分)',
    create_by VARCHAR(64) COMMENT '创建者',
    create_time DATETIME COMMENT '创建时间',
    update_by VARCHAR(64) COMMENT '更新者',
    update_time DATETIME COMMENT '更新时间'
) COMMENT = '投诉管理表';
```

**关联表**: `property_complaint_handle` (投诉处理记录表)
```sql
CREATE TABLE property_complaint_handle (
    handle_id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '处理记录ID',
    complaint_id BIGINT NOT NULL COMMENT '投诉ID',
    handler_id BIGINT NOT NULL COMMENT '处理人ID',
    handle_type CHAR(1) NOT NULL COMMENT '处理类型(1-接收,2-转派,3-处理,4-完成)',
    handle_content TEXT NOT NULL COMMENT '处理内容',
    handle_time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '处理时间',
    FOREIGN KEY (complaint_id) REFERENCES property_complaint(complaint_id)
) COMMENT = '投诉处理记录表';
```

**页面功能**:
- 投诉列表 (`/property/complaint/index`)
- 投诉详情 (`/property/complaint/detail/:id`)
- 处理记录 (`/property/complaint/handle/:id`)
- 统计分析 (`/property/complaint/statistics`)

### 1.3 系统监控模块 (扩展若依监控)

#### 1.3.1 业务监控
- 投票参与率监控
- 投诉处理时效监控  
- 资金流水异常监控
- 用户活跃度监控

#### 1.3.2 数据统计
- 业主参与度统计
- 投诉趋势分析
- 资金使用分析
- 会议效果评估

---

## 2. 用户端小程序 (ruoyi-app)

### 2.1 基础架构调整

#### 2.1.1 目录结构
```
ruoyi-app/
├── api/
│   ├── property/          # 物业相关API (新增)
│   │   ├── meeting.js     # 会议相关
│   │   ├── complaint.js   # 投诉相关
│   │   ├── fund.js        # 资金相关
│   │   └── regulation.js  # 制度相关
│   └── system/
├── pages/
│   ├── property/          # 物业功能页面 (新增)
│   │   ├── meeting/       # 会议相关页面
│   │   ├── complaint/     # 投诉相关页面
│   │   ├── fund/          # 资金相关页面
│   │   └── regulation/    # 制度相关页面
│   └── ...
└── ...
```

#### 2.1.2 配置文件调整
**config.js**
```javascript
module.exports = {
  // 基础配置继承若依配置
  baseUrl: 'https://your-domain.com/prod-api',
  
  // 物业系统特有配置
  property: {
    // 小区信息
    communityInfo: {
      name: "智慧花园小区",
      address: "北京市朝阳区xxx路xxx号",
      totalHouseholds: 1256,
      totalBuildings: 12
    },
    
    // 功能开关
    features: {
      voting: true,        // 投票功能
      complaint: true,     // 投诉功能
      fundQuery: true,     // 资金查询
      regulation: true,    // 制度查阅
      notary: true        // 公证服务
    },
    
    // 第三方服务配置
    thirdParty: {
      wechatPay: {
        mchId: "your_mch_id",
        // 其他微信支付配置
      },
      ocr: {
        appId: "your_ocr_app_id",
        // OCR服务配置
      }
    }
  }
}
```

### 2.2 页面功能设计

#### 2.2.1 首页 (pages/index.vue)
**继承若依首页结构，调整为物业场景**
```vue
<template>
  <view class="home-container">
    <!-- 用户信息区 -->
    <view class="user-info">
      <view class="user-avatar">
        <image :src="userInfo.avatar || '/static/images/profile.jpg'" />
      </view>
      <view class="user-detail">
        <text class="greeting">{{ greeting }}，{{ userInfo.nickName }}</text>
        <view class="auth-status" v-if="!userInfo.authStatus">
          <text class="status-text">未认证业主</text>
          <text class="auth-link" @click="goAuth">去认证></text>
        </view>
      </view>
      <view class="message-icon" @click="goMessage">
        <uni-badge :text="unreadCount" type="error" v-if="unreadCount > 0" />
        <uni-icons type="email" size="24" />
      </view>
    </view>

    <!-- 公告轮播 -->
    <view class="notice-swiper">
      <swiper indicator-dots circular autoplay interval="3000">
        <swiper-item v-for="notice in noticeList" :key="notice.id">
          <view class="notice-item" @click="viewNotice(notice)">
            <text>{{ notice.title }}</text>
          </view>
        </swiper-item>
      </swiper>
    </view>

    <!-- 快捷功能 -->
    <view class="quick-functions">
      <view class="function-grid">
        <view class="grid-item" @click="goVoting">
          <uni-icons type="compose" size="32" />
          <text>投票</text>
        </view>
        <view class="grid-item" @click="goComplaint">
          <uni-icons type="chat" size="32" />
          <text>投诉</text>
        </view>
        <view class="grid-item" @click="goConsult">
          <uni-icons type="help" size="32" />
          <text>咨询</text>
        </view>
        <view class="grid-item" @click="goContract">
          <uni-icons type="paperplane" size="32" />
          <text>合同</text>
        </view>
        <view class="grid-item" @click="goFund">
          <uni-icons type="wallet" size="32" />
          <text>资金</text>
        </view>
        <view class="grid-item" @click="goNotary">
          <uni-icons type="checkmarkempty" size="32" />
          <text>公证</text>
        </view>
      </view>
    </view>

    <!-- 制度文件 -->
    <view class="regulations-section">
      <view class="section-header">
        <text class="section-title">制度文件查阅</text>
        <text class="more-link" @click="goRegulations">更多></text>
      </view>
      <view class="regulation-list">
        <view class="regulation-item" v-for="regulation in regulationList" :key="regulation.id">
          <uni-icons type="paperplane" size="20" />
          <text>{{ regulation.name }}</text>
        </view>
      </view>
    </view>

    <!-- 最新动态 -->
    <view class="latest-news">
      <view class="section-header">
        <text class="section-title">最新动态</text>
        <text class="more-link" @click="goNews">更多></text>
      </view>
      <view class="news-list">
        <view class="news-item" v-for="news in newsList" :key="news.id">
          <text class="news-date">{{ news.date }}</text>
          <text class="news-title">{{ news.title }}</text>
        </view>
      </view>
    </view>
  </view>
</template>

<script>
import { mapGetters } from 'vuex'
import { listNotice } from '@/api/system/notice'
import { listRegulation } from '@/api/property/regulation'

export default {
  data() {
    return {
      noticeList: [],
      regulationList: [],
      newsList: [],
      unreadCount: 0
    }
  },
  computed: {
    ...mapGetters(['userInfo']),
    greeting() {
      const hour = new Date().getHours()
      if (hour < 12) return '早上好'
      if (hour < 18) return '下午好'
      return '晚上好'
    }
  },
  onLoad() {
    this.loadData()
  },
  methods: {
    async loadData() {
      // 加载公告数据
      const noticeRes = await listNotice({ pageNum: 1, pageSize: 5 })
      this.noticeList = noticeRes.rows || []
      
      // 加载制度文件
      const regulationRes = await listRegulation({ pageNum: 1, pageSize: 4 })
      this.regulationList = regulationRes.rows || []
    },
    
    goVoting() {
      uni.navigateTo({ url: '/pages/property/meeting/index' })
    },
    
    goComplaint() {
      uni.navigateTo({ url: '/pages/property/complaint/add' })
    },
    
    // 其他方法...
  }
}
</script>
```

#### 2.2.2 会议投票页面 (pages/property/meeting/)

**会议列表页 (index.vue)**
```vue
<template>
  <view class="meeting-container">
    <!-- 会议日历 -->
    <view class="calendar-section">
      <uni-calendar 
        :selected="selectedDate" 
        @change="onCalendarChange"
        :marks="meetingMarks"
      />
    </view>

    <!-- 会议分类 -->
    <view class="meeting-tabs">
      <view 
        class="tab-item" 
        :class="{ active: activeTab === 'ongoing' }"
        @click="switchTab('ongoing')"
      >
        进行中
      </view>
      <view 
        class="tab-item" 
        :class="{ active: activeTab === 'upcoming' }"
        @click="switchTab('upcoming')"
      >
        即将开始
      </view>
      <view 
        class="tab-item" 
        :class="{ active: activeTab === 'finished' }"
        @click="switchTab('finished')"
      >
        已结束
      </view>
    </view>

    <!-- 会议列表 -->
    <view class="meeting-list">
      <view 
        class="meeting-item" 
        v-for="meeting in meetingList" 
        :key="meeting.meetingId"
        @click="viewMeeting(meeting)"
      >
        <view class="meeting-header">
          <text class="meeting-title">{{ meeting.meetingTitle }}</text>
          <view class="meeting-status" :class="getStatusClass(meeting.meetingStatus)">
            {{ getStatusText(meeting.meetingStatus) }}
          </view>
        </view>
        <view class="meeting-info">
          <text class="meeting-time">{{ meeting.meetingTime }}</text>
          <text class="meeting-location">{{ meeting.meetingLocation }}</text>
        </view>
        <view class="meeting-action">
          <button 
            v-if="meeting.meetingStatus === '1'" 
            class="vote-btn"
            @click.stop="goVote(meeting)"
          >
            参与投票
          </button>
          <button 
            v-else-if="meeting.meetingStatus === '2'" 
            class="result-btn"
            @click.stop="viewResult(meeting)"
          >
            查看结果
          </button>
          <button 
            v-else 
            class="detail-btn"
            @click.stop="viewDetail(meeting)"
          >
            查看详情
          </button>
        </view>
      </view>
    </view>
  </view>
</template>

<script>
import { listMeeting } from '@/api/property/meeting'

export default {
  data() {
    return {
      activeTab: 'ongoing',
      selectedDate: [],
      meetingList: [],
      meetingMarks: []
    }
  },
  onLoad() {
    this.loadMeetings()
  },
  methods: {
    async loadMeetings() {
      const res = await listMeeting({
        meetingStatus: this.getStatusByTab(this.activeTab)
      })
      this.meetingList = res.rows || []
      this.generateCalendarMarks()
    },
    
    switchTab(tab) {
      this.activeTab = tab
      this.loadMeetings()
    },
    
    getStatusByTab(tab) {
      const statusMap = {
        ongoing: '1',
        upcoming: '0', 
        finished: '2'
      }
      return statusMap[tab]
    },
    
    goVote(meeting) {
      uni.navigateTo({
        url: `/pages/property/meeting/vote?id=${meeting.meetingId}`
      })
    }
  }
}
</script>
```

**投票页面 (vote.vue)**
```vue
<template>
  <view class="vote-container">
    <!-- 会议信息 -->
    <view class="meeting-info">
      <text class="meeting-title">{{ meetingInfo.meetingTitle }}</text>
      <view class="meeting-detail">
        <text>时间：{{ meetingInfo.meetingTime }}</text>
        <text>地点：{{ meetingInfo.meetingLocation }}</text>
        <text>截止：{{ meetingInfo.voteEndTime }}</text>
      </view>
    </view>

    <!-- 投票议题 -->
    <view class="vote-topics">
      <view 
        class="topic-item" 
        v-for="(topic, index) in topicList" 
        :key="topic.topicId"
      >
        <view class="topic-header">
          <text class="topic-title">议题{{ index + 1 }}：{{ topic.topicTitle }}</text>
        </view>
        <view class="topic-content">
          <text>{{ topic.topicContent }}</text>
        </view>
        <view class="vote-options">
          <radio-group @change="onVoteChange(topic.topicId, $event)">
            <label class="vote-option">
              <radio value="1" />
              <text>同意</text>
              <text class="vote-count">({{ topic.agreeCount }}票)</text>
            </label>
            <label class="vote-option">
              <radio value="2" />
              <text>反对</text>
              <text class="vote-count">({{ topic.opposeCount }}票)</text>
            </label>
            <label class="vote-option">
              <radio value="3" />
              <text>弃权</text>
              <text class="vote-count">({{ topic.abstainCount }}票)</text>
            </label>
          </radio-group>
        </view>
      </view>
    </view>

    <!-- 提交按钮 -->
    <view class="vote-submit">
      <button 
        class="submit-btn" 
        :disabled="!canSubmit"
        @click="submitVote"
      >
        提交投票
      </button>
    </view>
  </view>
</template>

<script>
import { getMeeting, listMeetingTopic, submitVote } from '@/api/property/meeting'

export default {
  data() {
    return {
      meetingId: null,
      meetingInfo: {},
      topicList: [],
      voteData: {}
    }
  },
  computed: {
    canSubmit() {
      return Object.keys(this.voteData).length === this.topicList.length
    }
  },
  onLoad(options) {
    this.meetingId = options.id
    this.loadMeetingInfo()
    this.loadTopics()
  },
  methods: {
    async loadMeetingInfo() {
      const res = await getMeeting(this.meetingId)
      this.meetingInfo = res.data
    },
    
    async loadTopics() {
      const res = await listMeetingTopic({ meetingId: this.meetingId })
      this.topicList = res.rows || []
    },
    
    onVoteChange(topicId, event) {
      this.voteData[topicId] = event.detail.value
    },
    
    async submitVote() {
      try {
        await submitVote({
          meetingId: this.meetingId,
          voteData: this.voteData
        })
        
        uni.showToast({
          title: '投票成功',
          icon: 'success'
        })
        
        setTimeout(() => {
          uni.navigateBack()
        }, 1500)
      } catch (error) {
        uni.showToast({
          title: error.message || '投票失败',
          icon: 'none'
        })
      }
    }
  }
}
</script>
```

#### 2.2.3 投诉管理页面 (pages/property/complaint/)

**投诉提交页 (add.vue)**
```vue
<template>
  <view class="complaint-container">
    <form @submit="submitComplaint">
      <!-- 投诉类型 -->
      <view class="form-section">
        <text class="section-title">投诉类型</text>
        <radio-group @change="onTypeChange">
          <label class="type-option" v-for="type in complaintTypes" :key="type.value">
            <radio :value="type.value" />
            <text>{{ type.label }}</text>
          </label>
        </radio-group>
      </view>

      <!-- 问题描述 -->
      <view class="form-section">
        <text class="section-title">问题描述</text>
        <textarea 
          v-model="formData.content"
          placeholder="请详细描述遇到的问题，包括时间、地点、具体情况等..."
          maxlength="500"
          class="content-textarea"
        />
        <text class="char-count">还可输入{{ 500 - formData.content.length }}字</text>
      </view>

      <!-- 图片上传 -->
      <view class="form-section">
        <text class="section-title">上传图片</text>
        <view class="image-upload">
          <view 
            class="upload-item" 
            v-for="(image, index) in imageList" 
            :key="index"
          >
            <image :src="image" class="upload-image" />
            <view class="delete-btn" @click="deleteImage(index)">×</view>
          </view>
          <view 
            class="upload-btn" 
            @click="chooseImage"
            v-if="imageList.length < 3"
          >
            <uni-icons type="camera" size="32" />
            <text>添加图片</text>
          </view>
        </view>
        <text class="upload-tip">最多上传3张图片</text>
      </view>

      <!-- 联系方式 -->
      <view class="form-section">
        <text class="section-title">联系方式</text>
        <input 
          v-model="formData.contactPhone"
          type="number"
          placeholder="请输入手机号"
          class="phone-input"
        />
      </view>

      <!-- 期望处理时间 -->
      <view class="form-section">
        <text class="section-title">期望处理时间</text>
        <radio-group @change="onTimeChange">
          <label class="time-option" v-for="time in expectedTimes" :key="time.value">
            <radio :value="time.value" />
            <text>{{ time.label }}</text>
          </label>
        </radio-group>
      </view>

      <!-- 提交按钮 -->
      <view class="submit-section">
        <button 
          class="submit-btn" 
          :disabled="!canSubmit"
          @click="submitComplaint"
        >
          提交投诉
        </button>
      </view>
    </form>
  </view>
</template>

<script>
import { addComplaint } from '@/api/property/complaint'
import { upload } from '@/api/common'

export default {
  data() {
    return {
      formData: {
        complaintType: '',
        complaintTitle: '',
        complaintContent: '',
        contactPhone: '',
        expectedTime: '',
        urgency: '2'
      },
      imageList: [],
      complaintTypes: [
        { value: '1', label: '物业服务问题' },
        { value: '2', label: '设施设备故障' },
        { value: '3', label: '环境卫生问题' },
        { value: '4', label: '安全管理问题' },
        { value: '5', label: '收费争议' },
        { value: '6', label: '其他问题' }
      ],
      expectedTimes: [
        { value: '1', label: '立即处理' },
        { value: '2', label: '3天内处理' },
        { value: '3', label: '1周内处理' },
        { value: '4', label: '1月内处理' }
      ]
    }
  },
  computed: {
    canSubmit() {
      return this.formData.complaintType && 
             this.formData.complaintContent && 
             this.formData.contactPhone
    }
  },
  methods: {
    onTypeChange(event) {
      this.formData.complaintType = event.detail.value
    },
    
    onTimeChange(event) {
      this.formData.expectedTime = event.detail.value
    },
    
    async chooseImage() {
      try {
        const res = await uni.chooseImage({
          count: 3 - this.imageList.length,
          sizeType: ['compressed'],
          sourceType: ['camera', 'album']
        })
        
        // 上传图片
        for (let tempFilePath of res.tempFilePaths) {
          const uploadRes = await upload(tempFilePath)
          this.imageList.push(uploadRes.data.url)
        }
      } catch (error) {
        console.error('选择图片失败', error)
      }
    },
    
    deleteImage(index) {
      this.imageList.splice(index, 1)
    },
    
    async submitComplaint() {
      if (!this.canSubmit) return
      
      try {
        const data = {
          ...this.formData,
          images: this.imageList.join(',')
        }
        
        await addComplaint(data)
        
        uni.showToast({
          title: '投诉提交成功',
          icon: 'success'
        })
        
        setTimeout(() => {
          uni.navigateBack()
        }, 1500)
      } catch (error) {
        uni.showToast({
          title: error.message || '提交失败',
          icon: 'none'
        })
      }
    }
  }
}
</script>
```

### 2.3 API接口设计 (基于若依规范)

#### 2.3.1 会议相关接口 (api/property/meeting.js)
```javascript
import request from '@/utils/request'

// 获取会议列表
export function listMeeting(query) {
  return request({
    url: '/property/meeting/list',
    method: 'get',
    params: query
  })
}

// 获取会议详情
export function getMeeting(meetingId) {
  return request({
    url: '/property/meeting/' + meetingId,
    method: 'get'
  })
}

// 获取会议议题
export function listMeetingTopic(query) {
  return request({
    url: '/property/meeting/topic/list',
    method: 'get',
    params: query
  })
}

// 提交投票
export function submitVote(data) {
  return request({
    url: '/property/meeting/vote',
    method: 'post',
    data: data
  })
}

// 获取投票结果
export function getVoteResult(meetingId) {
  return request({
    url: '/property/meeting/result/' + meetingId,
    method: 'get'
  })
}
```

#### 2.3.2 投诉相关接口 (api/property/complaint.js)
```javascript
import request from '@/utils/request'

// 提交投诉
export function addComplaint(data) {
  return request({
    url: '/property/complaint',
    method: 'post',
    data: data
  })
}

// 获取我的投诉列表
export function listMyComplaint(query) {
  return request({
    url: '/property/complaint/my',
    method: 'get',
    params: query
  })
}

// 获取投诉详情
export function getComplaint(complaintId) {
  return request({
    url: '/property/complaint/' + complaintId,
    method: 'get'
  })
}

// 获取处理记录
export function listComplaintHandle(complaintId) {
  return request({
    url: '/property/complaint/handle/' + complaintId,
    method: 'get'
  })
}

// 评价投诉处理
export function evaluateComplaint(data) {
  return request({
    url: '/property/complaint/evaluate',
    method: 'post',
    data: data
  })
}
```

---

## 3. 后端业务模块 (ruoyi-property)

### 3.1 模块结构
```
ruoyi-property/
├── src/main/java/com/ruoyi/property/
│   ├── controller/           # 控制器层
│   │   ├── PropertyMeetingController.java
│   │   ├── PropertyComplaintController.java
│   │   ├── PropertyFundController.java
│   │   └── PropertyRegulationController.java
│   ├── service/             # 服务层
│   │   ├── IPropertyMeetingService.java
│   │   ├── IPropertyComplaintService.java
│   │   ├── IPropertyFundService.java
│   │   └── IPropertyRegulationService.java
│   ├── service/impl/        # 服务实现层
│   ├── mapper/              # 数据访问层
│   ├── domain/              # 实体类
│   └── dto/                 # 数据传输对象
└── src/main/resources/
    └── mapper/property/     # MyBatis映射文件
```

### 3.2 核心Controller实现

#### 3.2.1 会议管理Controller
```java
package com.ruoyi.property.controller;

import java.util.List;
import javax.servlet.http.HttpServletResponse;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.web.bind.annotation.DeleteMapping;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.PathVariable;
import org.springframework.web.bind.annotation.PostMapping;
import org.springframework.web.bind.annotation.PutMapping;
import org.springframework.web.bind.annotation.RequestBody;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RestController;

import com.ruoyi.common.annotation.Log;
import com.ruoyi.common.core.controller.BaseController;
import com.ruoyi.common.core.domain.AjaxResult;
import com.ruoyi.common.core.page.TableDataInfo;
import com.ruoyi.common.enums.BusinessType;
import com.ruoyi.common.utils.poi.ExcelUtil;
import com.ruoyi.property.domain.PropertyMeeting;
import com.ruoyi.property.service.IPropertyMeetingService;

/**
 * 会议管理Controller
 * 
 * @author ruoyi
 * @date 2024-01-01
 */
@RestController
@RequestMapping("/property/meeting")
public class PropertyMeetingController extends BaseController
{
    @Autowired
    private IPropertyMeetingService propertyMeetingService;

    /**
     * 查询会议管理列表
     */
    @PreAuthorize("@ss.hasPermi('property:meeting:list')")
    @GetMapping("/list")
    public TableDataInfo list(PropertyMeeting propertyMeeting)
    {
        startPage();
        List<PropertyMeeting> list = propertyMeetingService.selectPropertyMeetingList(propertyMeeting);
        return getDataTable(list);
    }

    /**
     * 导出会议管理列表
     */
    @PreAuthorize("@ss.hasPermi('property:meeting:export')")
    @Log(title = "会议管理", businessType = BusinessType.EXPORT)
    @PostMapping("/export")
    public void export(HttpServletResponse response, PropertyMeeting propertyMeeting)
    {
        List<PropertyMeeting> list = propertyMeetingService.selectPropertyMeetingList(propertyMeeting);
        ExcelUtil<PropertyMeeting> util = new ExcelUtil<PropertyMeeting>(PropertyMeeting.class);
        util.exportExcel(response, list, "会议管理数据");
    }

    /**
     * 获取会议管理详细信息
     */
    @PreAuthorize("@ss.hasPermi('property:meeting:query')")
    @GetMapping(value = "/{meetingId}")
    public AjaxResult getInfo(@PathVariable("meetingId") Long meetingId)
    {
        return success(propertyMeetingService.selectPropertyMeetingByMeetingId(meetingId));
    }

    /**
     * 新增会议管理
     */
    @PreAuthorize("@ss.hasPermi('property:meeting:add')")
    @Log(title = "会议管理", businessType = BusinessType.INSERT)
    @PostMapping
    public AjaxResult add(@RequestBody PropertyMeeting propertyMeeting)
    {
        return toAjax(propertyMeetingService.insertPropertyMeeting(propertyMeeting));
    }

    /**
     * 修改会议管理
     */
    @PreAuthorize("@ss.hasPermi('property:meeting:edit')")
    @Log(title = "会议管理", businessType = BusinessType.UPDATE)
    @PutMapping
    public AjaxResult edit(@RequestBody PropertyMeeting propertyMeeting)
    {
        return toAjax(propertyMeetingService.updatePropertyMeeting(propertyMeeting));
    }

    /**
     * 删除会议管理
     */
    @PreAuthorize("@ss.hasPermi('property:meeting:remove')")
    @Log(title = "会议管理", businessType = BusinessType.DELETE)
    @DeleteMapping("/{meetingIds}")
    public AjaxResult remove(@PathVariable Long[] meetingIds)
    {
        return toAjax(propertyMeetingService.deletePropertyMeetingByMeetingIds(meetingIds));
    }

    /**
     * 提交投票
     */
    @PostMapping("/vote")
    public AjaxResult submitVote(@RequestBody VoteSubmitDto voteData)
    {
        return toAjax(propertyMeetingService.submitVote(voteData));
    }

    /**
     * 获取投票结果
     */
    @GetMapping("/result/{meetingId}")
    public AjaxResult getVoteResult(@PathVariable("meetingId") Long meetingId)
    {
        return success(propertyMeetingService.getVoteResult(meetingId));
    }
}
```

#### 3.2.2 投诉管理Controller
```java
package com.ruoyi.property.controller;

import java.util.List;
import javax.servlet.http.HttpServletResponse;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.security.access.prepost.PreAuthorize;
import org.springframework.web.bind.annotation.*;

import com.ruoyi.common.annotation.Log;
import com.ruoyi.common.core.controller.BaseController;
import com.ruoyi.common.core.domain.AjaxResult;
import com.ruoyi.common.core.page.TableDataInfo;
import com.ruoyi.common.enums.BusinessType;
import com.ruoyi.common.utils.SecurityUtils;
import com.ruoyi.property.domain.PropertyComplaint;
import com.ruoyi.property.service.IPropertyComplaintService;

/**
 * 投诉管理Controller
 * 
 * @author ruoyi
 * @date 2024-01-01
 */
@RestController
@RequestMapping("/property/complaint")
public class PropertyComplaintController extends BaseController
{
    @Autowired
    private IPropertyComplaintService propertyComplaintService;

    /**
     * 查询投诉管理列表
     */
    @PreAuthorize("@ss.hasPermi('property:complaint:list')")
    @GetMapping("/list")
    public TableDataInfo list(PropertyComplaint propertyComplaint)
    {
        startPage();
        List<PropertyComplaint> list = propertyComplaintService.selectPropertyComplaintList(propertyComplaint);
        return getDataTable(list);
    }

    /**
     * 查询我的投诉列表
     */
    @GetMapping("/my")
    public TableDataInfo listMyComplaint(PropertyComplaint propertyComplaint)
    {
        startPage();
        // 设置当前用户ID
        propertyComplaint.setUserId(SecurityUtils.getUserId());
        List<PropertyComplaint> list = propertyComplaintService.selectPropertyComplaintList(propertyComplaint);
        return getDataTable(list);
    }

    /**
     * 获取投诉管理详细信息
     */
    @GetMapping(value = "/{complaintId}")
    public AjaxResult getInfo(@PathVariable("complaintId") Long complaintId)
    {
        return success(propertyComplaintService.selectPropertyComplaintByComplaintId(complaintId));
    }

    /**
     * 新增投诉管理
     */
    @Log(title = "投诉管理", businessType = BusinessType.INSERT)
    @PostMapping
    public AjaxResult add(@RequestBody PropertyComplaint propertyComplaint)
    {
        // 设置投诉人为当前用户
        propertyComplaint.setUserId(SecurityUtils.getUserId());
        // 生成投诉编号
        propertyComplaint.setComplaintNo(propertyComplaintService.generateComplaintNo());
        return toAjax(propertyComplaintService.insertPropertyComplaint(propertyComplaint));
    }

    /**
     * 修改投诉管理
     */
    @PreAuthorize("@ss.hasPermi('property:complaint:edit')")
    @Log(title = "投诉管理", businessType = BusinessType.UPDATE)
    @PutMapping
    public AjaxResult edit(@RequestBody PropertyComplaint propertyComplaint)
    {
        return toAjax(propertyComplaintService.updatePropertyComplaint(propertyComplaint));
    }

    /**
     * 处理投诉
     */
    @PreAuthorize("@ss.hasPermi('property:complaint:handle')")
    @Log(title = "投诉处理", businessType = BusinessType.UPDATE)
    @PostMapping("/handle")
    public AjaxResult handleComplaint(@RequestBody ComplaintHandleDto handleData)
    {
        return toAjax(propertyComplaintService.handleComplaint(handleData));
    }

    /**
     * 评价投诉处理
     */
    @PostMapping("/evaluate")
    public AjaxResult evaluateComplaint(@RequestBody ComplaintEvaluateDto evaluateData)
    {
        // 验证评价权限（只能评价自己的投诉）
        PropertyComplaint complaint = propertyComplaintService.selectPropertyComplaintByComplaintId(evaluateData.getComplaintId());
        if (complaint == null || !complaint.getUserId().equals(SecurityUtils.getUserId())) {
            return error("无权限评价此投诉");
        }
        return toAjax(propertyComplaintService.evaluateComplaint(evaluateData));
    }
}
```

### 3.3 Service接口实现

#### 3.3.1 会议服务实现
```java
package com.ruoyi.property.service.impl;

import java.util.List;
import java.util.Date;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;

import com.ruoyi.common.utils.DateUtils;
import com.ruoyi.common.utils.SecurityUtils;
import com.ruoyi.property.domain.PropertyMeeting;
import com.ruoyi.property.domain.PropertyMeetingTopic;
import com.ruoyi.property.domain.PropertyVoteRecord;
import com.ruoyi.property.mapper.PropertyMeetingMapper;
import com.ruoyi.property.mapper.PropertyMeetingTopicMapper;
import com.ruoyi.property.mapper.PropertyVoteRecordMapper;
import com.ruoyi.property.service.IPropertyMeetingService;
import com.ruoyi.property.dto.VoteSubmitDto;

/**
 * 会议管理Service业务层处理
 * 
 * @author ruoyi
 * @date 2024-01-01
 */
@Service
public class PropertyMeetingServiceImpl implements IPropertyMeetingService 
{
    @Autowired
    private PropertyMeetingMapper propertyMeetingMapper;
    
    @Autowired
    private PropertyMeetingTopicMapper propertyMeetingTopicMapper;
    
    @Autowired
    private PropertyVoteRecordMapper propertyVoteRecordMapper;

    /**
     * 查询会议管理
     * 
     * @param meetingId 会议管理主键
     * @return 会议管理
     */
    @Override
    public PropertyMeeting selectPropertyMeetingByMeetingId(Long meetingId)
    {
        return propertyMeetingMapper.selectPropertyMeetingByMeetingId(meetingId);
    }

    /**
     * 查询会议管理列表
     * 
     * @param propertyMeeting 会议管理
     * @return 会议管理
     */
    @Override
    public List<PropertyMeeting> selectPropertyMeetingList(PropertyMeeting propertyMeeting)
    {
        return propertyMeetingMapper.selectPropertyMeetingList(propertyMeeting);
    }

    /**
     * 新增会议管理
     * 
     * @param propertyMeeting 会议管理
     * @return 结果
     */
    @Override
    public int insertPropertyMeeting(PropertyMeeting propertyMeeting)
    {
        propertyMeeting.setCreateTime(DateUtils.getNowDate());
        propertyMeeting.setCreateBy(SecurityUtils.getUsername());
        return propertyMeetingMapper.insertPropertyMeeting(propertyMeeting);
    }

    /**
     * 修改会议管理
     * 
     * @param propertyMeeting 会议管理
     * @return 结果
     */
    @Override
    public int updatePropertyMeeting(PropertyMeeting propertyMeeting)
    {
        propertyMeeting.setUpdateTime(DateUtils.getNowDate());
        propertyMeeting.setUpdateBy(SecurityUtils.getUsername());
        return propertyMeetingMapper.updatePropertyMeeting(propertyMeeting);
    }

    /**
     * 批量删除会议管理
     * 
     * @param meetingIds 需要删除的会议管理主键
     * @return 结果
     */
    @Override
    public int deletePropertyMeetingByMeetingIds(Long[] meetingIds)
    {
        return propertyMeetingMapper.deletePropertyMeetingByMeetingIds(meetingIds);
    }

    /**
     * 提交投票
     * 
     * @param voteData 投票数据
     * @return 结果
     */
    @Override
    @Transactional(rollbackFor = Exception.class)
    public int submitVote(VoteSubmitDto voteData)
    {
        Long userId = SecurityUtils.getUserId();
        Long meetingId = voteData.getMeetingId();
        
        // 验证投票资格
        if (!checkVotePermission(userId, meetingId)) {
            throw new RuntimeException("无投票权限或已投票");
        }
        
        // 验证会议状态
        PropertyMeeting meeting = propertyMeetingMapper.selectPropertyMeetingByMeetingId(meetingId);
        if (meeting == null || !"1".equals(meeting.getMeetingStatus())) {
            throw new RuntimeException("会议不在投票期间");
        }
        
        // 保存投票记录
        int result = 0;
        for (VoteSubmitDto.VoteItem item : voteData.getVoteItems()) {
            PropertyVoteRecord record = new PropertyVoteRecord();
            record.setMeetingId(meetingId);
            record.setTopicId(item.getTopicId());
            record.setUserId(userId);
            record.setVoteOption(item.getVoteOption());
            record.setVoteTime(new Date());
            record.setIpAddress(voteData.getIpAddress());
            record.setUserAgent(voteData.getUserAgent());
            
            result += propertyVoteRecordMapper.insertPropertyVoteRecord(record);
            
            // 更新议题统计
            updateTopicVoteCount(item.getTopicId(), item.getVoteOption());
        }
        
        // 更新会议参与人数
        propertyMeetingMapper.incrementActualVoters(meetingId);
        
        return result;
    }

    /**
     * 检查投票权限
     */
    private boolean checkVotePermission(Long userId, Long meetingId) {
        // 检查是否已投票
        PropertyVoteRecord existRecord = new PropertyVoteRecord();
        existRecord.setMeetingId(meetingId);
        existRecord.setUserId(userId);
        List<PropertyVoteRecord> records = propertyVoteRecordMapper.selectPropertyVoteRecordList(existRecord);
        
        if (records != null && !records.isEmpty()) {
            return false; // 已投票
        }
        
        // TODO: 检查用户是否为认证业主
        // TODO: 检查用户是否有该会议的投票权限
        
        return true;
    }

    /**
     * 更新议题投票统计
     */
    private void updateTopicVoteCount(Long topicId, String voteOption) {
        PropertyMeetingTopic topic = propertyMeetingTopicMapper.selectPropertyMeetingTopicByTopicId(topicId);
        if (topic != null) {
            switch (voteOption) {
                case "1": // 同意
                    topic.setAgreeCount(topic.getAgreeCount() + 1);
                    break;
                case "2": // 反对
                    topic.setOpposeCount(topic.getOpposeCount() + 1);
                    break;
                case "3": // 弃权
                    topic.setAbstainCount(topic.getAbstainCount() + 1);
                    break;
            }
            propertyMeetingTopicMapper.updatePropertyMeetingTopic(topic);
        }
    }
}
```

### 3.4 实体类设计

#### 3.4.1 会议实体类
```java
package com.ruoyi.property.domain;

import java.util.Date;
import java.util.List;

import com.fasterxml.jackson.annotation.JsonFormat;
import com.ruoyi.common.annotation.Excel;
import com.ruoyi.common.core.domain.BaseEntity;

/**
 * 会议管理对象 property_meeting
 * 
 * @author ruoyi
 * @date 2024-01-01
 */
public class PropertyMeeting extends BaseEntity
{
    private static final long serialVersionUID = 1L;

    /** 会议ID */
    private Long meetingId;

    /** 会议标题 */
    @Excel(name = "会议标题")
    private String meetingTitle;

    /** 会议类型 */
    @Excel(name = "会议类型", dictType = "property_meeting_type")
    private String meetingType;

    /** 会议内容 */
    private String meetingContent;

    /** 会议时间 */
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    @Excel(name = "会议时间", width = 30, dateFormat = "yyyy-MM-dd HH:mm:ss")
    private Date meetingTime;

    /** 会议地点 */
    @Excel(name = "会议地点")
    private String meetingLocation;

    /** 会议状态 */
    @Excel(name = "会议状态", dictType = "property_meeting_status")
    private String meetingStatus;

    /** 投票开始时间 */
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private Date voteStartTime;

    /** 投票结束时间 */
    @JsonFormat(pattern = "yyyy-MM-dd HH:mm:ss")
    private Date voteEndTime;

    /** 应参与人数 */
    @Excel(name = "应参与人数")
    private Integer totalVoters;

    /** 实际参与人数 */
    @Excel(name = "实际参与人数")
    private Integer actualVoters;

    /** 会议议题列表 */
    private List<PropertyMeetingTopic> topicList;

    // getter和setter方法
    public Long getMeetingId() {
        return meetingId;
    }

    public void setMeetingId(Long meetingId) {
        this.meetingId = meetingId;
    }

    public String getMeetingTitle() {
        return meetingTitle;
    }

    public void setMeetingTitle(String meetingTitle) {
        this.meetingTitle = meetingTitle;
    }

    public String getMeetingType() {
        return meetingType;
    }

    public void setMeetingType(String meetingType) {
        this.meetingType = meetingType;
    }

    public String getMeetingContent() {
        return meetingContent;
    }

    public void setMeetingContent(String meetingContent) {
        this.meetingContent = meetingContent;
    }

    public Date getMeetingTime() {
        return meetingTime;
    }

    public void setMeetingTime(Date meetingTime) {
        this.meetingTime = meetingTime;
    }

    public String getMeetingLocation() {
        return meetingLocation;
    }

    public void setMeetingLocation(String meetingLocation) {
        this.meetingLocation = meetingLocation;
    }

    public String getMeetingStatus() {
        return meetingStatus;
    }

    public void setMeetingStatus(String meetingStatus) {
        this.meetingStatus = meetingStatus;
    }

    public Date getVoteStartTime() {
        return voteStartTime;
    }

    public void setVoteStartTime(Date voteStartTime) {
        this.voteStartTime = voteStartTime;
    }

    public Date getVoteEndTime() {
        return voteEndTime;
    }

    public void setVoteEndTime(Date voteEndTime) {
        this.voteEndTime = voteEndTime;
    }

    public Integer getTotalVoters() {
        return totalVoters;
    }

    public void setTotalVoters(Integer totalVoters) {
        this.totalVoters = totalVoters;
    }

    public Integer getActualVoters() {
        return actualVoters;
    }

    public void setActualVoters(Integer actualVoters) {
        this.actualVoters = actualVoters;
    }

    public List<PropertyMeetingTopic> getTopicList() {
        return topicList;
    }

    public void setTopicList(List<PropertyMeetingTopic> topicList) {
        this.topicList = topicList;
    }

    @Override
    public String toString() {
        return "PropertyMeeting{" +
                "meetingId=" + meetingId +
                ", meetingTitle='" + meetingTitle + '\'' +
                ", meetingType='" + meetingType + '\'' +
                ", meetingContent='" + meetingContent + '\'' +
                ", meetingTime=" + meetingTime +
                ", meetingLocation='" + meetingLocation + '\'' +
                ", meetingStatus='" + meetingStatus + '\'' +
                ", voteStartTime=" + voteStartTime +
                ", voteEndTime=" + voteEndTime +
                ", totalVoters=" + totalVoters +
                ", actualVoters=" + actualVoters +
                '}';
    }
}
```

---

## 4. 数据字典配置

### 4.1 系统字典项
基于若依字典管理，新增物业相关字典：

```sql
-- 会议类型字典
INSERT INTO sys_dict_type (dict_name, dict_type, status, create_by, create_time, remark) VALUES 
('会议类型', 'property_meeting_type', '0', 'admin', sysdate(), '物业会议类型列表');

INSERT INTO sys_dict_data (dict_sort, dict_label, dict_value, dict_type, css_class, list_class, is_default, status, create_by, create_time, remark) VALUES
(1, '业主大会', '1', 'property_meeting_type', '', 'primary', 'Y', '0', 'admin', sysdate(), '业主大会'),
(2, '业委会会议', '2', 'property_meeting_type', '', 'info', 'N', '0', 'admin', sysdate(), '业委会会议'),
(3, '专项会议', '3', 'property_meeting_type', '', 'warning', 'N', '0', 'admin', sysdate(), '专项会议');

-- 会议状态字典
INSERT INTO sys_dict_type (dict_name, dict_type, status, create_by, create_time, remark) VALUES 
('会议状态', 'property_meeting_status', '0', 'admin', sysdate(), '会议状态列表');

INSERT INTO sys_dict_data (dict_sort, dict_label, dict_value, dict_type, css_class, list_class, is_default, status, create_by, create_time, remark) VALUES
(1, '筹备中', '0', 'property_meeting_status', '', 'info', 'Y', '0', 'admin', sysdate(), '会议筹备中'),
(2, '投票中', '1', 'property_meeting_status', '', 'warning', 'N', '0', 'admin', sysdate(), '投票进行中'),
(3, '已结束', '2', 'property_meeting_status', '', 'success', 'N', '0', 'admin', sysdate(), '会议已结束');

-- 投诉类型字典
INSERT INTO sys_dict_type (dict_name, dict_type, status, create_by, create_time, remark) VALUES 
('投诉类型', 'property_complaint_type', '0', 'admin', sysdate(), '投诉类型列表');

INSERT INTO sys_dict_data (dict_sort, dict_label, dict_value, dict_type, css_class, list_class, is_default, status, create_by, create_time, remark) VALUES
(1, '物业服务问题', '1', 'property_complaint_type', '', 'primary', 'Y', '0', 'admin', sysdate(), '物业服务问题'),
(2, '设施设备故障', '2', 'property_complaint_type', '', 'danger', 'N', '0', 'admin', sysdate(), '设施设备故障'),
(3, '环境卫生问题', '3', 'property_complaint_type', '', 'warning', 'N', '0', 'admin', sysdate(), '环境卫生问题'),
(4, '安全管理问题', '4', 'property_complaint_type', '', 'danger', 'N', '0', 'admin', sysdate(), '安全管理问题'),
(5, '收费争议', '5', 'property_complaint_type', '', 'info', 'N', '0', 'admin', sysdate(), '收费争议'),
(6, '其他问题', '6', 'property_complaint_type', '', 'default', 'N', '0', 'admin', sysdate(), '其他问题');
```

### 4.2 权限配置
```sql
-- 物业管理菜单
INSERT INTO sys_menu (menu_name, parent_id, order_num, path, component, query, is_frame, is_cache, menu_type, visible, status, perms, icon, create_by, create_time, remark) VALUES
('物业管理', 0, 5, 'property', NULL, NULL, 1, 0, 'M', '0', '0', NULL, 'build', 'admin', sysdate(), '物业管理目录');

-- 会议管理菜单
INSERT INTO sys_menu (menu_name, parent_id, order_num, path, component, query, is_frame, is_cache, menu_type, visible, status, perms, icon, create_by, create_time, remark) VALUES
('会议管理', (SELECT menu_id FROM sys_menu WHERE menu_name = '物业管理'), 1, 'meeting', 'property/meeting/index', NULL, 1, 0, 'C', '0', '0', 'property:meeting:list', 'date', 'admin', sysdate(), '会议管理菜单');

-- 会议管理按钮权限
INSERT INTO sys_menu (menu_name, parent_id, order_num, path, component, query, is_frame, is_cache, menu_type, visible, status, perms, icon, create_by, create_time, remark) VALUES
('会议查询', (SELECT menu_id FROM sys_menu WHERE menu_name = '会议管理' AND menu_type = 'C'), 1, '#', '', NULL, 1, 0, 'F', '0', '0', 'property:meeting:query', '#', 'admin', sysdate(), ''),
('会议新增', (SELECT menu_id FROM sys_menu WHERE menu_name = '会议管理' AND menu_type = 'C'), 2, '#', '', NULL, 1, 0, 'F', '0', '0', 'property:meeting:add', '#', 'admin', sysdate(), ''),
('会议修改', (SELECT menu_id FROM sys_menu WHERE menu_name = '会议管理' AND menu_type = 'C'), 3, '#', '', NULL, 1, 0, 'F', '0', '0', 'property:meeting:edit', '#', 'admin', sysdate(), ''),
('会议删除', (SELECT menu_id FROM sys_menu WHERE menu_name = '会议管理' AND menu_type = 'C'), 4, '#', '', NULL, 1, 0, 'F', '0', '0', 'property:meeting:remove', '#', 'admin', sysdate(), ''),
('会议导出', (SELECT menu_id FROM sys_menu WHERE menu_name = '会议管理' AND menu_type = 'C'), 5, '#', '', NULL, 1, 0, 'F', '0', '0', 'property:meeting:export', '#', 'admin', sysdate(), '');
```

---

## 5. 部署配置

### 5.1 环境配置
```yaml
# application-property.yml (物业系统配置)
property:
  # 小区基本信息
  community:
    name: 智慧花园小区
    address: 北京市朝阳区xxx路xxx号
    totalHouseholds: 1256
    totalBuildings: 12
    
  # 投票配置
  voting:
    # 投票有效期(小时)
    validHours: 168
    # 最小参与率
    minParticipationRate: 0.5
    # 是否允许修改投票
    allowModify: false
    
  # 文件上传配置
  upload:
    # 投诉图片路径
    complaintPath: /upload/complaint/
    # 会议文件路径
    meetingPath: /upload/meeting/
    # 制度文件路径
    regulationPath: /upload/regulation/
    
  # 第三方服务配置
  thirdParty:
    # 微信小程序配置
    wechat:
      appId: your_app_id
      appSecret: your_app_secret
    # OCR配置
    ocr:
      appId: your_ocr_app_id
      apiKey: your_api_key
```

### 5.2 数据库初始化脚本
```sql
-- 物业管理系统初始化脚本
-- 创建物业管理相关表

-- 会议管理表
CREATE TABLE property_meeting (
    meeting_id BIGINT PRIMARY KEY AUTO_INCREMENT COMMENT '会议ID',
    meeting_title VARCHAR(200) NOT NULL COMMENT '会议标题',
    meeting_type VARCHAR(50) NOT NULL COMMENT '会议类型',
    meeting_content LONGTEXT COMMENT '会议内容',
    meeting_time DATETIME NOT NULL COMMENT '会议时间',
    meeting_location VARCHAR(200) COMMENT '会议地点',
    meeting_status CHAR(1) DEFAULT '0' COMMENT '会议状态(0-筹备中,1-进行中,2-已结束)',
    vote_start_time DATETIME COMMENT '投票开始时间',
    vote_end_time DATETIME COMMENT '投票结束时间',
    total_voters INT DEFAULT 0 COMMENT '应参与人数',
    actual_voters INT DEFAULT 0 COMMENT '实际参与人数',
    create_by VARCHAR(64) COMMENT '创建者',
    create_time DATETIME COMMENT '创建时间',
    update_by VARCHAR(64) COMMENT '更新者',
    update_time DATETIME COMMENT '更新时间',
    remark VARCHAR(500) COMMENT '备注'
) COMMENT = '会议管理表';

-- 其他表结构请参考前面的设计...
```

---

## 6. 开发规范总结

### 6.1 代码规范
1. **严格遵循若依命名规范**
2. **所有实体类继承BaseEntity**
3. **使用若依统一响应格式AjaxResult**
4. **权限控制使用@PreAuthorize注解**
5. **操作日志使用@Log注解**
6. **异常处理遵循若依全局异常处理**

### 6.2 数据库规范
1. **表名使用property_前缀**
2. **字段命名使用下划线分隔**
3. **状态字段统一使用CHAR(1)**
4. **时间字段使用DATETIME类型**
5. **必须包含create_by、create_time等审计字段**

### 6.3 前端规范
1. **管理端使用Element UI组件库**
2. **小程序端使用uni-ui组件库**
3. **API调用统一使用request工具**
4. **路由配置遵循若依规范**
5. **权限控制使用v-hasPermi指令**

### 6.4 接口规范
1. **RESTful API设计**
2. **统一返回格式**
3. **统一异常处理**
4. **参数校验使用Validation**
5. **接口文档使用Swagger**

---

## 7. 版本迭代计划

### 7.1 V2.1 版本 (后续迭代)
- 微信支付集成
- 实名认证接口对接
- 公证服务接口对接
- 移动端性能优化

### 7.2 V2.2 版本
- 数据统计分析模块
- 智能推荐功能
- 多小区管理支持
- 国际化支持

### 7.3 V3.0 版本
- 微服务架构改造
- 容器化部署
- 大数据分析平台
- AI智能客服

---

本功能清单基于若依框架深度定制，确保了系统的稳定性、可维护性和扩展性，为物业管理数字化转型提供了完整的解决方案。