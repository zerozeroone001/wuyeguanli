# 业主信息绑定用户功能使用说明

## 功能概述
在业主信息管理页面新增业主时，可以绑定已存在的系统用户，避免重复创建用户信息。

## 功能特点
1. **用户筛选**: 只显示未绑定业主信息的系统用户
2. **模糊搜索**: 支持通过手机号码、用户名、昵称进行模糊搜索
3. **自动填充**: 选择用户后自动填充相关字段信息
4. **数据关联**: 建立业主信息与系统用户的关联关系

## 使用步骤

### 1. 进入业主信息管理页面
- 登录管理后台
- 导航到 `系统管理` -> `业主信息管理`

### 2. 新增业主信息
- 点击 `新增` 按钮
- 在弹出的表单中可以看到 `绑定用户` 字段

### 3. 选择要绑定的用户
- 点击 `绑定用户` 输入框右侧的 `选择用户` 按钮
- 在弹出的用户选择对话框中：
  - 可以通过手机号码、用户名、昵称进行搜索
  - 浏览可绑定的用户列表
  - 点击选择要绑定的用户

### 4. 确认绑定
- 选择用户后，系统会自动填充：
  - 用户ID
  - 用户名
  - 手机号码
  - 昵称
  - 如果真实姓名为空，会自动使用昵称填充
- 填写其他必要信息后提交表单

## 技术实现

### 后端API
- **接口**: `GET /system/owner/unboundUsers`
- **功能**: 查询可绑定的用户列表
- **筛选条件**: 
  - 用户状态正常 (`del_flag = '0'`)
  - 非管理员用户 (`user_id != 1`)
  - 未绑定业主信息 (`p.user_id is null`)

### 前端组件
- **用户选择弹窗**: `UserSelectDialog` 组件
- **搜索功能**: 支持手机号码、用户名、昵称模糊搜索
- **分页显示**: 支持分页浏览用户列表

### 数据库设计
- **关联关系**: `sys_owner_profile.user_id` -> `sys_user.user_id`
- **数据完整性**: 确保一个用户只能绑定一个业主信息

## 注意事项
1. 已绑定业主信息的用户不会在选择列表中显示
2. 管理员用户（user_id=1）不会在选择列表中显示
3. 选择用户后会自动填充相关信息，但仍可手动修改
4. 绑定用户后，业主信息与系统用户建立关联关系

## 扩展功能
- 支持解绑用户功能（可后续开发）
- 支持批量绑定用户（可后续开发）
- 支持用户类型筛选（如需要可添加user_type字段）